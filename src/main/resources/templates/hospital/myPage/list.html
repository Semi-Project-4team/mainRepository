<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>회원 정보</title>
  <link rel="stylesheet" href="/css/header.css">
  <link rel="stylesheet" href="/css/footer.css">
  <style>
    body {
      /*padding: 30px;*/
      background-color: #f7f7f7;
      color: #333;
      margin: 100px auto 0 auto;
      /*margin-right: 200px;*/
      /*margin-left: 200px;*/
    }

    h3 {
      color: #58ccff;
      border-bottom: 2px solid #58ccff;
      padding-bottom: 5px;
    }

    .inner{
      width: 80%;
      margin: 0 auto;
    }

    .container {
      gap: 50px;
      display: flex;
      justify-content: space-between;
      margin-bottom: 20px;
    }

    .container > div{
      width:calc(100% - 50px);
    }

    .container .update-button{
      margin: 10px 0 0 0;
      text-align: right;
    }

    table {
      border-collapse: collapse;
      background-color: #fff;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    th, td {
      padding: 12px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }

    th {
      background-color: #58ccff;
      color: white;
    }

    tr:hover {
      background-color: #f1f1f1;
    }

    button {
      background-color: #58ccff;
      color: white;
      border: none;
      padding: 10px 15px;
      cursor: pointer;
      font-size: 16px;
      border-radius: 5px;
      transition: background-color 0.3s;
    }

    button:hover {
      background-color: #4ba3d4;
    }

    .member-info-table {
      width: 100%; /* 회원 정보 테이블의 가로 너비를 60%로 설정 */
    }

    .reserve-table {
      width: 100%; /* 예약 내역 테이블의 가로 너비를 40%로 설정 */
    }


    .favorite-hospital-table {
      width: 100%; /* 테이블 전체 너비 설정 */
    }

    .favorite-hospital-item {
      position: relative;
      text-align: center;
      display: inline-block;
      padding: 30px; /* 아이템 내부 패딩 */
    }

    .hospital-image {
      width: 200px;
      height: 150px;
      object-fit: cover;
    }

    .hospital-name {
      margin-top: 10px; /* 병원이름과 사진 사이 간격 */
    }

    .delete-button {
      position: absolute;
      bottom: 5px; /* 버튼을 이미지 하단으로 설정 */
      right: 5px; /* 버튼을 이미지 오른쪽으로 설정 */
      padding: 5px 10px;
      font-size: 12px;
      background-color: #58ccff;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .delete-button:hover {
      background-color: #4ba3d4;
    }

    .pet-container {
      display: flex;
      justify-content: space-between;
      border: 1px solid #58ccff; /* Optional: Add a border */
      border-radius: 5px; /* Optional: Add rounded corners */
      padding: 15px; /* Optional: Add padding */
      margin-bottom: 100px; /* Optional: Add bottom margin */
    }

    .pet-image-container {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .pet-image {
      width: 20%;
      max-width: 300px;
      max-height: 300px;
      height: auto;
      object-fit: cover; /* Maintain aspect ratio */
    }

    .image-upload-container {
      margin-top: 10px; /* Space between image and button */
    }

    .upload-button {
      padding: 5px 10px;
      background-color: #58ccff; /* Button color */
      color: white; /* Button text color */
      border: none; /* No border */
      border-radius: 5px; /* Rounded corners */
      cursor: pointer; /* Pointer cursor on hover */
      transition: background-color 0.3s; /* Transition effect */
    }

    .upload-button:hover {
      background-color: #4ba3d4; /* Darker color on hover */
    }

    .pet-info-container {
      width: 90%;
    }

    .pet-table2 {
      width: 100%; /* Full width of the container */
      border-collapse: collapse; /* Remove cell spacing */
    }

    th, td {
      padding: 12px; /* Cell padding */
      text-align: left; /* Align text to the left */
      border-bottom: 1px solid #ddd; /* Bottom border for cells */
    }

    th {
      background-color: #58ccff; /* Header background color */
      color: white; /* Header text color */
    }

    .edit-button-container {
      text-align: right; /* Align button to the right */
      margin-top: 10px; /* Space above the button */
    }

    .edit-button {
      padding: 5px 10px;
      background-color: #58ccff; /* Button color */
      color: white; /* Button text color */
      border: none; /* No border */
      border-radius: 5px; /* Rounded corners */
      cursor: pointer; /* Pointer cursor on hover */
      transition: background-color 0.3s; /* Transition effect */
    }

    .edit-button:hover {
      background-color: #4ba3d4; /* Darker color on hover */
    }



  </style>

</head>
<body>

<div class="header-container" th:insert="~{common/header.html}"></div> <!-- 헤더 포함 -->
<div class="inner">

<div class="container">
   <div>
     <h3>회원 정보</h3>
     <table class="member-info-table">
       <tr>
         <th>개인회원명</th>
         <th>개인회원이메일</th>
         <th>개인회원전화번호</th>
       </tr>

       <tr th:each="myInfo : ${ myInfoList }">
         <td th:text="${ myInfo.name }"></td>
         <td th:text="${ myInfo.email }"></td>
         <td th:text="${ myInfo.phoneNumber }"></td>
       </tr>
     </table>

     <div class="update-button">
        <button onclick="location.href='/myPage/update'" >수정하기</button>
     </div>
   </div>

   <div>
     <h3>예약내역</h3>
     <table class="reserve-table">
       <tr>
         <th>병원명</th>
         <th>예약날짜</th>
         <th>예약시간</th>
       </tr>
        <!-- <tr th:each="myHospital : ${ myHospitalList }">-->
        <!-- <td th:text="${ myHospital.name }"></td>-->
        <!-- <td th:each="myReserve : ${ myReserveList }" th:text="${ myReserve.reserveDate }"></td>-->
        <!-- <td th:each="myReserve : ${ myReserveList }" th:text="${ myReserve.reserveTime }"></td>-->
        <!-- </tr>-->
       <tr th:each="myHospital, myIndex : ${ myHospitalList }"
           th:data-index="${ myIndex }">
         <td th:text="${ myHospital.name }"></td>
        <!--<td th:each="myReserve : ${ myReserveList[myIndex][5] }" th:text="${ myReserve.reserveDate }"></td>-->
         <td th:text="${ myReserveList[myIndex.index].reserveDate }"></td>
         <td th:text="${ myReserveList[myIndex.index].reserveTime }"></td>
        <!-- <td th:text="${ myReserveList }"></td>-->
       </tr>
     </table>
   </div>
</div>
<br>
<br>

<h3>즐겨찾는 병원</h3>
<table class="favorite-hospital-table">
  <tr>
    <td th:each="myFavorite : ${ myFavoriteList }">
      <div class="favorite-hospital-item">
        <a th:href="@{/hospital/detail/{name}(name=${myFavorite.favoriteName})}">
          <img src="사진경로" alt="병원 사진" class="hospital-image">
        </a>
        <div th:text="${ myFavorite.favoriteName }" class="hospital-name"></div> <!-- 병원이름, 사진과 버튼 사이 간격 추가 -->
        <form th:action="@{/myPage/delete/{name}(name=${myFavorite.favoriteName})}" method="post">
          <button type="submit" class="delete-button">삭제</button>
        </form>
      </div>
    </td>
  </tr>
</table>

<br>
<br>
<h3>반려동물정보</h3>

<div class="pet-container">
  <div class="pet-image-container">
    <img src="사진경로" alt="동물 사진" class="pet-image"> <!-- 프로필 사진 -->
    <div class="image-upload-container">
      <button class="upload-button">사진 등록 버튼</button> <!-- 사진 등록 버튼 -->
    </div>
  </div>

  <div class="pet-info-container">
    <table class="pet-table2">
      <tr>
        <th>이름</th>
        <th>종</th>
        <th>성별</th>
        <th>생년월일</th>
        <th>예방접종여부</th>
        <th>내장칩여부</th>
      </tr>
      <tr th:each="myPet : ${ myPetList }">
        <td th:text="${ myPet.petName }"></td>
        <td th:text="${ myPet.petType }"></td>
        <td th:text="${ myPet.petGender }"></td>
        <td th:text="${ myPet.petBirth }"></td>
        <td th:text="${ myPet.petVaccination }"></td>
        <td th:text="${ myPet.petChip }"></td>
      </tr>
    </table>
    <div class="edit-button-container">
      <button class="edit-button">수정 및 등록</button>
    </div>
  </div>
</div>

</div>

<div th:insert="~{common/footer.html}"></div> <!-- 푸터 포함 -->


<script>
  // 페이지 로드 후 모든 tr 요소에서 인덱스를 콘솔에 출력
  document.querySelectorAll('tr[data-index]').forEach(function(tr) {
    console.log('Index:', tr.dataset.index);
  });
</script>
</body>
</html>
