<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>병원페이지</title>
</head>
<body>
<h3>병원 정보</h3>
<table>
  <tr>
    <th>병원명</th>
    <th>인가번호</th>
    <th>진료시작</th>
    <th>진료종료</th>
    <th>점심시작</th>
    <th>점심종료</th>
    <th>주소</th>
    <th>전화번호</th>
  </tr>

  <tr th:each="hospitalInfo : ${ hospitalInfoList }">
    <td th:text="${ hospitalInfo.name }"></td>
    <td th:text="${ hospitalInfo.permitNumber }"></td>
    <td th:text="${ hospitalInfo.startTime }"></td>
    <td th:text="${ hospitalInfo.endTime }"></td>
    <td th:text="${ hospitalInfo.lunchStartTime }"></td>
    <td th:text="${ hospitalInfo.lunchEndTime }"></td>
    <td th:text="${ hospitalInfo.detailAddress }"></td>
    <td th:text="${ hospitalInfo.phoneNumber }"></td>
  </tr>
</table>

<!--수정버튼-->
<div th:each="hospital : ${ hospitalInfoList }">
<form th:action="@{/hospital/info/update/{code}(code=${ hospital.hospitalCode})}" method="get">
  <button class="edit-button" type="submit">동물병원 정보 수정하기</button>
</form>

<!--폐업버튼-->
<form th:action="@{/hospital/info/delete/{code}(code=${ hospital.hospitalCode})}" method="post">
  <button class="edit-button" type="submit">병원 폐업</button>
</form>
</div>


<h3>예약 내역</h3>
<table>
  <tr>
    <th>보호자명</th>
    <th>예약날짜</th>
    <th>예약시간</th>
  </tr>

    <tr th:each="pro, myIndex : ${ protector }"
      th:data-index="${ myIndex }">
    <td th:text="${ pro.name }"></td>
    <td th:text="${ hospitalReserveList[myIndex.index].reserveDate }"></td>
    <td th:text="${ hospitalReserveList[myIndex.index].reserveTime }"></td>
  </tr>

</table>

<div>
  <button onclick="confirmWithdrawal()">계정 탈퇴</button>
</div>

<script>
  function confirmWithdrawal() {

    var hospitalConfirmed = confirm('정말로 계정을 탈퇴하시겠습니까?');

    if (hospitalConfirmed) {
      location.href = '/myPage/hospitalWithDrawal';
    }
  }
</script>
</body>
</html>